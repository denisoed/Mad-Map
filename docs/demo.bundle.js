webpackJsonp([0],[,,,,,,,,function(t,e,n){t.exports=n(9)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),a=n.n(o),r=n(2),i=n.n(r),s=n(10),l=n(20);n.n(l);i.a.render(a.a.createElement(s.a,null),document.getElementById("root"))},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=n(0),s=n.n(i),l=n(11),u=n(18),c=n.n(u),h=n(19),m={leuven1:[[50.879,4.6997],13],leuven2:[[50.874,4.6947],13],brussels:[[50.8505,4.35149],11],ghent:[[51.0514,3.7103],12],coast:[[51.2214,2.9541],10]},p={wikimedia:function(t,e,n,o){return"https://maps.wikimedia.org/osm-intl/"+n+"/"+t+"/"+e+(o>=2?"@2x":"")+".png"},basemaps:function(t,e,n){return"https://maps.basemaps.cartocdn.com/light_all/"+n+"/"+t+"/"+e+".png"},stamen:function(t,e,n,o){return"https://stamen-tiles.a.ssl.fastly.net/terrain/"+n+"/"+t+"/"+e+(o>=2?"@2x":"")+".jpg"}},d=function(t,e){return(t+180)/360*Math.pow(2,e)},f=function(t,e){return(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e)},g=function(t){function e(n){o(this,e);var r=a(this,t.call(this,n));return r.zoomIn=function(){r.setState({zoom:Math.min(r.state.zoom+1,18)})},r.zoomOut=function(){r.setState({zoom:Math.max(r.state.zoom-1,1)})},r.handleBoundsChange=function(t){var e=t.center,n=t.zoom,o=t.bounds;t.initial&&console.log("Got initial bounds: ",o),r.setState({center:e,zoom:n})},r.handleClick=function(t){var e=(t.event,t.latLng),n=t.pixel;console.log("Map clicked!",e,n)},r.handleMarkerClick=function(t){var e=(t.event,t.payload),n=t.anchor;console.log("Marker #"+e+" clicked at: ",n)},r.handleAnimationStart=function(){r.setState({animating:!0})},r.handleAnimationStop=function(){r.setState({animating:!1})},r.state={center:[50.1102,3.1506],zoom:6,provider:"basemaps",metaWheelZoom:!1,twoFingerDrag:!1,animate:!0,animating:!1,zoomSnap:!0,mouseEvents:!0,touchEvents:!0,minZoom:1,maxZoom:18,dragAnchor:[48.8565,2.3475]},r}return r(e,t),e.prototype.render=function(){var t=this,e=this.state,n=e.center,o=e.zoom,a=e.provider,r=e.animate,i=e.metaWheelZoom,u=e.twoFingerDrag,g=e.zoomSnap,v=e.mouseEvents,w=e.touchEvents,M=e.animating,_=e.minZoom,b=e.maxZoom;return s.a.createElement("div",{style:{textAlign:"center",marginTop:50}},s.a.createElement("div",{style:{maxWidth:600,margin:"0 auto"}},s.a.createElement(l.a,{limitBounds:"edge",center:n,zoom:o,provider:a,dprs:[1,2],onBoundsChanged:this.handleBoundsChange,onClick:this.handleClick,onAnimationStart:this.handleAnimationStart,onAnimationStop:this.handleAnimationStop,animate:r,metaWheelZoom:i,twoFingerDrag:u,zoomSnap:g,mouseEvents:v,touchEvents:w,minZoom:_,maxZoom:b,defaultWidth:600,height:400,boxClassname:"mad-map-filters"},Object.keys(m).map(function(e){return s.a.createElement(l.b,{key:e,anchor:m[e][0],icon:c.a,payload:e,onClick:t.handleMarkerClick})}),s.a.createElement(h.a,{anchor:this.state.dragAnchor,offset:[60,87],onDragMove:function(t){return console.log("moving mad-map",t)},onDragEnd:function(e){console.log("moved mad-map",e),t.setState({dragAnchor:e})},style:{clipPath:"polygon(100% 0, 83% 0, 79% 15%, 0 68%, 0 78%, 39% 84%, 43% 96%, 61% 100%, 79% 90%, 69% 84%, 88% 71%, 100% 15%)"}}))),s.a.createElement("div",null,s.a.createElement("button",{onClick:this.zoomIn},"Zoom In"),s.a.createElement("button",{onClick:this.zoomOut},"Zoom Out")," ",Math.round(1e4*n[0])/1e4," (",f(n[0],o),")"," x ",Math.round(1e4*n[1])/1e4," (",d(n[1],o),")"," @ ",Math.round(100*o)/100," - ",M?"animating":"stopped"),s.a.createElement("div",{style:{marginTop:20}},Object.keys(p).map(function(e){return s.a.createElement("button",{key:e,onClick:function(){return t.setState({provider:e})},style:{fontWeight:a===e?"bold":"normal",color:"#000"}},e)})),s.a.createElement("div",{style:{marginTop:20}},s.a.createElement("button",{onClick:function(){return t.setState({animate:!r})}},r?"[X] animation":"[ ] animation"),s.a.createElement("button",{onClick:function(){return t.setState({twoFingerDrag:!u})}},u?"[X] two finger drag":"[ ] two finger drag"),s.a.createElement("button",{onClick:function(){return t.setState({metaWheelZoom:!i})}},i?"[X] meta wheel zoom":"[ ] meta wheel zoom"),s.a.createElement("button",{onClick:function(){return t.setState({zoomSnap:!g})}},g?"[X] zoom snap":"[ ] zoom snap"),s.a.createElement("button",{onClick:function(){return t.setState({mouseEvents:!v})}},v?"[X] mouse events":"[ ] mouse events"),s.a.createElement("button",{onClick:function(){return t.setState({touchEvents:!w})}},w?"[X] touch events":"[ ] touch events")),s.a.createElement("div",{style:{marginTop:20}},"minZoom: ",s.a.createElement("input",{onChange:function(e){return t.setState({minZoom:parseInt(e.target.value)||1})},value:_,type:"number",style:{width:40}})," ","maxZoom: ",s.a.createElement("input",{onChange:function(e){return t.setState({maxZoom:parseInt(e.target.value)||18})},value:b,type:"number",style:{width:40}})),s.a.createElement("div",{style:{marginTop:20}},Object.keys(m).map(function(e){return s.a.createElement("button",{key:e,onClick:function(){return t.setState({center:m[e][0],zoom:m[e][1]})}},e)})))},e}(i.Component);e.a=g},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e,n,o){return"https://maps.wikimedia.org/osm-intl/"+n+"/"+t+"/"+e+((void 0!==o?o>=2:"undefined"!=typeof window&&window.devicePixelRatio>=2)?"@2x":"")+".png"}function s(t,e){return t/Math.pow(2,e)*360-180}function l(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function u(t,e){var n=Object(f.a)(t);return[e.clientX-n.x,e.clientY-n.y]}function c(t){return t*(2-t)}function h(t,e,n,o,a){return t&&0!==t.length?t.map(function(t){return e(n,o,a,t)+(1===t?"":" "+t+"x")}).join(", "):""}n.d(e,"a",function(){return L}),n.d(e,"b",function(){return j});var m=n(0),p=n.n(m),d=n(12),f=(n.n(d),n(15)),g=n(16),v=n(17),w=300,M=1500,_=150,b=40,x=2,E=300,y=60,S=300,T=300,C=function(){},z={wikimedia:function(t,e,n,o){return"https://maps.wikimedia.org/osm-intl/"+n+"/"+t+"/"+e+(o>=2?"@2x":"")+".png"},basemaps:function(t,e,n){return"https://maps.basemaps.cartocdn.com/light_all/"+n+"/"+t+"/"+e+".png"},stamen:function(t,e,n,o){return"https://stamen-tiles.a.ssl.fastly.net/terrain/"+n+"/"+t+"/"+e+(o>=2?"@2x":"")+".jpg"}},D=function(t,e){return(t+180)/360*Math.pow(2,e)},P=function(t,e){return(1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,e)},k=[l(Math.pow(2,10),10),l(0,10),s(0,10),s(Math.pow(2,10),10)],Z="undefined"!=typeof window,A=Z&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){var t=(new Date).getTime();return function(){return(new Date).getTime()-t}}(),O=Z?window.requestAnimationFrame||window.setTimeout:function(t){return t()},W=Z?window.cancelAnimationFrame||window.clearTimeout:function(){},L=function(t){function e(n){o(this,e);var r=a(this,t.call(this,n));return r.updateWidthHeight=function(){if(r._containerRef){var t=r._containerRef.getBoundingClientRect();if(t&&t.width>0&&t.height>0)return r.setState({width:t.width,height:t.height}),!0}return!1},r.wa=function(t,e,n){return window.addEventListener(t,e,n)},r.wr=function(t,e){return window.removeEventListener(t,e)},r.bindMouseEvents=function(){r.wa("mousedown",r.handleMouseDown),r.wa("mouseup",r.handleMouseUp),r.wa("mousemove",r.handleMouseMove)},r.bindTouchEvents=function(){r.wa("touchstart",r.handleTouchStart,{passive:!1}),r.wa("touchmove",r.handleTouchMove,{passive:!1}),r.wa("touchend",r.handleTouchEnd,{passive:!1})},r.unbindMouseEvents=function(){r.wr("mousedown",r.handleMouseDown),r.wr("mouseup",r.handleMouseUp),r.wr("mousemove",r.handleMouseMove)},r.unbindTouchEvents=function(){r.wr("touchstart",r.handleTouchStart),r.wr("touchmove",r.handleTouchMove),r.wr("touchend",r.handleTouchEnd)},r.bindResizeEvent=function(){r.wa("resize",r.updateWidthHeight)},r.unbindResizeEvent=function(){r.wr("resize",r.updateWidthHeight)},r.bindWheelEvent=function(){r._containerRef&&r._containerRef.addEventListener("wheel",r.handleWheel,{passive:!1})},r.unbindWheelEvent=function(){r._containerRef&&r._containerRef.removeEventListener("wheel",r.handleWheel)},r.setCenterZoomTarget=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:w;if(r.props.animate&&(!n||r.distanceInScreens(t,e,r.state.center,r.state.zoom)<=r.props.animateMaxScreens)){if(r._isAnimating){W(r._animFrame);var i=r.animationStep(A()),s=i.centerStep,l=i.zoomStep;r._centerStart=s,r._zoomStart=l}else r._isAnimating=!0,r._centerStart=r.limitCenterAtZoom([r._lastCenter[0],r._lastCenter[1]],r._lastZoom),r._zoomStart=r._lastZoom,r.onAnimationStart();r._animationStart=A(),r._animationEnd=r._animationStart+a,o?(r._zoomAround=o,r._centerTarget=r.calculateZoomCenter(r._lastCenter,o,r._lastZoom,e)):(r._zoomAround=null,r._centerTarget=t),r._zoomTarget=e,r._animFrame=O(r.animate)}else if(r.stopAnimating(),o){var u=r.calculateZoomCenter(r._lastCenter,o,r._lastZoom,e);r.setCenterZoom(u,e,n)}else r.setCenterZoom(t,e,n)},r.distanceInScreens=function(t,e,n,o){var a=r.state,i=a.width,s=a.height,l=r.latLngToPixel(n,n,o),u=r.latLngToPixel(t,n,o),c=r.latLngToPixel(n,n,e),h=r.latLngToPixel(t,n,e),m=(Math.abs(l[0]-u[0])+Math.abs(c[0]-h[0]))/2/i,p=(Math.abs(l[1]-u[1])+Math.abs(c[1]-h[1]))/2/s;return Math.sqrt(m*m+p*p)},r.animationStep=function(t){var e=r._animationEnd-r._animationStart,n=Math.max(t-r._animationStart,0),o=c(n/e),a=(r._zoomTarget-r._zoomStart)*o,i=r._zoomStart+a;if(r._zoomAround){return{centerStep:r.calculateZoomCenter(r._centerStart,r._zoomAround,r._zoomStart,i),zoomStep:i}}return{centerStep:[r._centerStart[0]+(r._centerTarget[0]-r._centerStart[0])*o,r._centerStart[1]+(r._centerTarget[1]-r._centerStart[1])*o],zoomStep:i}},r.animate=function(t){if(t>=r._animationEnd)r._isAnimating=!1,r.setCenterZoom(r._centerTarget,r._zoomTarget,!0),r.onAnimationStop();else{var e=r.animationStep(t),n=e.centerStep,o=e.zoomStep;r.setCenterZoom(n,o),r._animFrame=O(r.animate)}},r.stopAnimating=function(){r._isAnimating&&(r._isAnimating=!1,r.onAnimationStop(),W(r._animFrame))},r.limitCenterAtZoom=function(t,e){var n=r.getBoundsMinMax(e||r.state.zoom);return[Math.max(Math.min(isNaN(t[0])?r.state.center[0]:t[0],n[1]),n[0]),Math.max(Math.min(isNaN(t[1])?r.state.center[1]:t[1],n[3]),n[2])]},r.onAnimationStart=function(){r.props.onAnimationStart&&r.props.onAnimationStart()},r.onAnimationStop=function(){r.props.onAnimationStop&&r.props.onAnimationStop()},r.setCenterZoom=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=r.limitCenterAtZoom(t,e);if(Math.round(r.state.zoom)!==Math.round(e)){var a=r.tileValues(r.state),i=r.tileValues({center:o,zoom:e,width:r.state.width,height:r.state.height}),s=r.state.oldTiles;r.setState({oldTiles:s.filter(function(t){return t.roundedZoom!==a.roundedZoom}).concat(a)},C);for(var l={},u=i.tileMinX;u<=i.tileMaxX;u++)for(var c=i.tileMinY;c<=i.tileMaxY;c++){var h=u+"-"+c+"-"+i.roundedZoom;l[h]=!1}r._loadTracker=l}r.setState({center:o,zoom:e},C);var m=r.props.zoom?r.props.zoom:r._lastZoom,p=r.props.center?r.props.center:r._lastCenter;(n||Math.abs(m-e)>.001||Math.abs(p[0]-o[0])>1e-5||Math.abs(p[1]-o[1])>1e-5)&&(r._lastZoom=e,r._lastCenter=[].concat(o),r.syncToProps(o,e))},r.getBoundsMinMax=function(t){if("center"===r.props.limitBounds)return k;var e=r.state,n=e.width,o=e.height;if(r._minMaxCache&&r._minMaxCache[0]===t&&r._minMaxCache[1]===n&&r._minMaxCache[2]===o)return r._minMaxCache[3];var a=256*Math.pow(2,t),i=n>a?0:s(n/512,t),u=o>a?0:l(Math.pow(2,t)-o/512,t),c=n>a?0:s(Math.pow(2,t)-n/512,t),h=o>a?0:l(o/512,t),m=[u,h,i,c];return r._minMaxCache=[t,n,o,m],m},r.imageLoaded=function(t){if(r._loadTracker&&t in r._loadTracker){r._loadTracker[t]=!0;0===Object.keys(r._loadTracker).filter(function(t){return!r._loadTracker[t]}).length&&r.setState({oldTiles:[]},C)}},r.handleTouchStart=function(t){if(r._containerRef&&(!t.target||!Object(g.a)(t.target,"mad-map-drag-block")))if(1===t.touches.length){var e=t.touches[0],n=u(r._containerRef,e);if(r.coordsInside(n)&&(r._touchStartPixel=[n],!r.props.twoFingerDrag))if(r.stopAnimating(),r._lastTap&&A()-r._lastTap<E){t.preventDefault();var o=r.pixelToLatLng(r._touchStartPixel[0]);r.setCenterZoomTarget(null,Math.max(r.props.minZoom,Math.min(r.state.zoom+1,r.props.maxZoom)),!1,o)}else r._lastTap=A(),r.trackMoveEvents(n)}else if(2===t.touches.length&&r._touchStartPixel){t.preventDefault(),r.stopTrackingMoveEvents(),(r.state.pixelDelta||r.state.zoomDelta)&&r.sendDeltaChange();var a=u(r._containerRef,t.touches[0]),i=u(r._containerRef,t.touches[1]);r._touchStartPixel=[a,i],r._touchStartMidPoint=[(a[0]+i[0])/2,(a[1]+i[1])/2],r._touchStartDistance=Math.sqrt(Math.pow(a[0]-i[0],2)+Math.pow(a[1]-i[1],2))}},r.handleTouchMove=function(t){if(!r._containerRef)return void(r._touchStartPixel=null);if(1===t.touches.length&&r._touchStartPixel){var e=t.touches[0],n=u(r._containerRef,e);r.props.twoFingerDrag?r.coordsInside(n)&&r.showWarning("fingers"):(t.preventDefault(),r.trackMoveEvents(n),r.setState({pixelDelta:[n[0]-r._touchStartPixel[0][0],n[1]-r._touchStartPixel[0][1]]},C))}else if(2===t.touches.length&&r._touchStartPixel){var o=r.state,a=o.width,i=o.height,s=o.zoom;t.preventDefault();var l=u(r._containerRef,t.touches[0]),c=u(r._containerRef,t.touches[1]),h=[(l[0]+c[0])/2,(l[1]+c[1])/2],m=[h[0]-r._touchStartMidPoint[0],h[1]-r._touchStartMidPoint[1]],p=Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)),d=Math.max(r.props.minZoom,Math.min(r.props.maxZoom,s+Math.log2(p/r._touchStartDistance)))-s,f=Math.pow(2,d),g=[(a/2-h[0])*(f-1),(i/2-h[1])*(f-1)];r.setState({zoomDelta:d,pixelDelta:[g[0]+m[0]*f,g[1]+m[1]*f]},C)}},r.handleTouchEnd=function(t){if(!r._containerRef)return void(r._touchStartPixel=null);if(r._touchStartPixel){var e=r.props,n=e.zoomSnap,o=e.twoFingerDrag,a=e.minZoom,i=e.maxZoom,s=r.state.zoomDelta,l=r.sendDeltaChange(),c=l.center,h=l.zoom;if(0===t.touches.length)if(o)r.clearWarning();else{var m=r._touchStartPixel[0],p=u(r._containerRef,t.changedTouches[0]);(Math.abs(m[0]-p[0])>x||Math.abs(m[1]-p[1])>x)&&(!r._secondTouchEnd||A()-r._secondTouchEnd>S)&&(t.preventDefault(),r.throwAfterMoving(p,c,h)),r._touchStartPixel=null,r._secondTouchEnd=null}else if(1===t.touches.length){t.preventDefault();var d=u(r._containerRef,t.touches[0]);if(r._secondTouchEnd=A(),r._touchStartPixel=[d],r.trackMoveEvents(d),n){var f=r._touchStartMidPoint?r.pixelToLatLng(r._touchStartMidPoint):r.state.center,g=void 0;g=o&&Math.round(r.state.zoom)===Math.round(r.state.zoom+s)?Math.round(r.state.zoom):s>0?Math.ceil(r.state.zoom):Math.floor(r.state.zoom);var v=Math.max(a,Math.min(g,i));r.setCenterZoomTarget(f,v,!1,f)}}}},r.handleMouseDown=function(t){if(r._containerRef){var e=u(r._containerRef,t);if(0===t.button&&(!t.target||!Object(g.a)(t.target,"mad-map-drag-block"))&&r.coordsInside(e))if(r.stopAnimating(),t.preventDefault(),r._lastClick&&A()-r._lastClick<E){var n=r.pixelToLatLng(r._mousePosition||e);r.setCenterZoomTarget(null,Math.max(r.props.minZoom,Math.min(r.state.zoom+1,r.props.maxZoom)),!1,n)}else r._lastClick=A(),r._mouseDown=!0,r._dragStart=e,r.trackMoveEvents(e)}},r.handleMouseMove=function(t){r._containerRef&&(r._mousePosition=u(r._containerRef,t),r._mouseDown&&r._dragStart&&(r.trackMoveEvents(r._mousePosition),r.setState({pixelDelta:[r._mousePosition[0]-r._dragStart[0],r._mousePosition[1]-r._dragStart[1]]},C)))},r.handleMouseUp=function(t){if(!r._containerRef)return void(r._mouseDown=!1);var e=r.state.pixelDelta;if(r._mouseDown){r._mouseDown=!1;var n=u(r._containerRef,t);if(!r.props.onClick||t.target&&Object(g.a)(t.target,"mad-map-click-block")||e&&!(Math.abs(e[0])+Math.abs(e[1])<=x)){var o=r.sendDeltaChange(),a=o.center,i=o.zoom;r.throwAfterMoving(n,a,i)}else{var s=r.pixelToLatLng(n);r.props.onClick({event:t,latLng:s,pixel:n}),r.setState({pixelDelta:null},C)}}},r.stopTrackingMoveEvents=function(){r._moveEvents=[]},r.trackMoveEvents=function(t){var e=A();(0===r._moveEvents.length||e-r._moveEvents[r._moveEvents.length-1].timestamp>40)&&(r._moveEvents.push({timestamp:e,coords:t}),r._moveEvents.length>2&&r._moveEvents.shift())},r.throwAfterMoving=function(t,e,n){var o=r.state,a=o.width,i=o.height,u=r.props.animate,c=A(),h=r._moveEvents.shift();if(h&&u){var m=Math.max(c-h.timestamp,1),p=[(t[0]-h.coords[0])/m*120,(t[1]-h.coords[1])/m*120],d=Math.sqrt(p[0]*p[0]+p[1]*p[1]);if(d>b){var f=Math.sqrt(a*a+i*i),g=M*d/f,v=s(D(e[1],n)-p[0]/256,n),w=l(P(e[0],n)-p[1]/256,n);r.setCenterZoomTarget([w,v],n,!1,null,g)}}r.stopTrackingMoveEvents()},r.sendDeltaChange=function(){var t=r.state,e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,i=e[0],u=e[1];return(o||0!==a)&&(u=s(D(e[1],n+a)-(o?o[0]/256:0),n+a),i=l(P(e[0],n+a)-(o?o[1]/256:0),n+a),r.setCenterZoom([i,u],n+a)),r.setState({pixelDelta:null,zoomDelta:0},C),{center:r.limitCenterAtZoom([i,u],n+a),zoom:n+a}},r.getBounds=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.center,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.zoomPlusDelta(),n=r.state,o=n.width,a=n.height;return{ne:r.pixelToLatLng([o-1,0],t,e),sw:r.pixelToLatLng([0,a-1],t,e)}},r.syncToProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.state.center,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.state.zoom,n=r.props.onBoundsChanged;if(n){n({center:t,zoom:e,bounds:r.getBounds(t,e),initial:!r._boundsSynced}),r._boundsSynced=!0}},r.handleWheel=function(t){var e=r.props,n=e.mouseEvents,o=e.metaWheelZoom,a=e.zoomSnap,i=e.animate;if(n)if(!o||t.metaKey){t.preventDefault();var s=-t.deltaY/_;if(!a&&r._zoomTarget){var l=r._zoomTarget-r.state.zoom;r.zoomAroundMouse(s+l,t)}else i?r.zoomAroundMouse(s,t):(!r._lastWheel||A()-r._lastWheel>w)&&(r._lastWheel=A(),r.zoomAroundMouse(s,t))}else r.showWarning("wheel")},r.showWarning=function(t){r.state.showWarning&&r.state.warningType===t||r.setState({showWarning:!0,warningType:t}),r._warningClearTimeout&&window.clearTimeout(r._warningClearTimeout),r._warningClearTimeout=window.setTimeout(r.clearWarning,T)},r.clearWarning=function(){r.state.showWarning&&r.setState({showWarning:!1})},r.zoomAroundMouse=function(t,e){if(r._containerRef){var n=r.state.zoom,o=r.props,a=o.minZoom,i=o.maxZoom,s=o.zoomSnap;if(r._mousePosition=u(r._containerRef,e),!(!r._mousePosition||n===a&&t<0||n===i&&t>0)){var l=r.pixelToLatLng(r._mousePosition),c=n+t;s&&(c=t<0?Math.floor(c):Math.ceil(c)),c=Math.max(a,Math.min(c,i)),r.setCenterZoomTarget(null,c,!1,l)}}},r.zoomPlusDelta=function(){return r.state.zoom+r.state.zoomDelta},r.pixelToLatLng=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.state.center,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.zoomPlusDelta(),o=r.state,a=o.width,i=o.height,u=o.pixelDelta,c=[(t[0]-a/2-(u?u[0]:0))/256,(t[1]-i/2-(u?u[1]:0))/256],h=D(e[1],n)+c[0],m=P(e[0],n)+c[1];return[Math.max(k[0],Math.min(k[1],l(m,n))),Math.max(k[2],Math.min(k[3],s(h,n)))]},r.latLngToPixel=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.state.center,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.zoomPlusDelta(),o=r.state,a=o.width,i=o.height,s=o.pixelDelta,l=D(e[1],n),u=P(e[0],n),c=D(t[1],n),h=P(t[0],n);return[256*(c-l)+a/2+(s?s[0]:0),256*(h-u)+i/2+(s?s[1]:0)]},r.calculateZoomCenter=function(t,e,n,o){var a=r.state,i=a.width,s=a.height,l=r.latLngToPixel(e,t,n),u=r.latLngToPixel(e,t,o),c=r.pixelToLatLng([i/2+u[0]-l[0],s/2+u[1]-l[1]],t,o);return r.limitCenterAtZoom(c,o)},r.setRef=function(t){r._containerRef=t},r.syncToProps=Object(v.a)(r.syncToProps,y),r._mousePosition=null,r._dragStart=null,r._mouseDown=!1,r._moveEvents=[],r._lastClick=null,r._lastTap=null,r._touchStartPixel=null,r._isAnimating=!1,r._animationStart=null,r._animationEnd=null,r._centerTarget=null,r._zoomTarget=null,r._lastZoom=n.defaultZoom?n.defaultZoom:n.zoom,r._lastCenter=n.defaultCenter?n.defaultCenter:n.center,r._boundsSynced=!1,r._minMaxCache=null,r.state={zoom:r._lastZoom,center:r._lastCenter,width:n.width||n.defaultWidth,height:n.height||n.defaultHeight,zoomDelta:0,pixelDelta:null,oldTiles:[],showWarning:!1,warningType:null},r}return r(e,t),e.prototype.componentDidMount=function(){this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),this.props.width&&this.props.height||(this.updateWidthHeight()||O(this.updateWidthHeight),this.bindResizeEvent(),this.bindWheelEvent()),this.syncToProps()},e.prototype.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.props.width&&this.props.height||(this.unbindResizeEvent(),this.unbindWheelEvent())},e.prototype.componentWillReceiveProps=function(t){if(t.mouseEvents!==this.props.mouseEvents&&(t.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),t.touchEvents!==this.props.touchEvents&&(t.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),t.width&&t.width!==this.props.width&&this.setState({width:t.width}),t.height&&t.height!==this.props.height&&this.setState({height:t.height}),(t.center||t.zoom)&&(t.center&&(t.center[0]!==this.props.center[0]||t.center[1]!==this.props.center[1])||t.zoom!==this.props.zoom)){var e=this._isAnimating?this._centerTarget:this.state.center,n=this._isAnimating?this._zoomTarget:this.state.zoom,o=t.center||e,a=t.zoom||n;(Math.abs(a-n)>.001||Math.abs(o[0]-e[0])>1e-4||Math.abs(o[1]-e[1])>1e-4)&&this.setCenterZoomTarget(o,a,!0)}},e.prototype.coordsInside=function(t){var e=this.state,n=e.width,o=e.height;if(t[0]<0||t[1]<0||t[0]>=n||t[1]>=o)return!1;var a=this._containerRef,r=Object(f.a)(a),i=document.elementFromPoint(t[0]+r.x,t[1]+r.y);return a===i||a.contains(i)},e.prototype.tileValues=function(t){var e=t.center,n=t.zoom,o=t.pixelDelta,a=t.zoomDelta,r=t.width,i=t.height,s=Math.round(n+(a||0)),l=n+(a||0)-s,u=Math.pow(2,l),c=r/u,h=i/u,m=D(e[1],s)-(o?o[0]/256/u:0),p=P(e[0],s)-(o?o[1]/256/u:0),d=c/2/256,f=h/2/256;return{tileMinX:Math.floor(m-d),tileMaxX:Math.floor(m+d),tileMinY:Math.floor(p-f),tileMaxY:Math.floor(p+f),tileCenterX:m,tileCenterY:p,roundedZoom:s,zoomDelta:a||0,scaleWidth:c,scaleHeight:h,scale:u}},e.prototype.renderTiles=function(){for(var t=this,e=this.state.oldTiles,n=this.props.dprs,o=z[this.props.provider]||i,a=this.tileValues(this.state),r=a.tileMinX,s=a.tileMaxX,l=a.tileMinY,u=a.tileMaxY,c=a.tileCenterX,m=a.tileCenterY,d=a.roundedZoom,f=a.scaleWidth,g=a.scaleHeight,v=a.scale,w=[],M=0;M<e.length;M++){var _=e[M],b=_.roundedZoom-d;if(!(Math.abs(b)>4||0===b))for(var x=1/Math.pow(2,b),E=256*-(r-_.tileMinX*x),y=256*-(l-_.tileMinY*x),S=Math.max(_.tileMinX,0),T=Math.max(_.tileMinY,0),C=Math.min(_.tileMaxX,Math.pow(2,_.roundedZoom)-1),D=Math.min(_.tileMaxY,Math.pow(2,_.roundedZoom)-1),P=S;P<=C;P++)for(var k=T;k<=D;k++)w.push({key:P+"-"+k+"-"+_.roundedZoom,url:o(P,k,_.roundedZoom),srcSet:h(n,o,P,k,_.roundedZoom),left:E+256*(P-_.tileMinX)*x,top:y+256*(k-_.tileMinY)*x,width:256*x,height:256*x,active:!1})}for(var Z=Math.max(r,0),A=Math.max(l,0),O=Math.min(s,Math.pow(2,d)-1),W=Math.min(u,Math.pow(2,d)-1),L=Z;L<=O;L++)for(var R=A;R<=W;R++)w.push({key:L+"-"+R+"-"+d,url:o(L,R,d),srcSet:h(n,o,L,R,d),left:256*(L-r),top:256*(R-l),width:256,height:256,active:!0});var j={width:f,height:g,position:"absolute",top:0,left:0,overflow:"hidden",willChange:"transform",transform:"scale("+v+", "+v+")",transformOrigin:"top left"},X=this.props.boxClassname||"",I=-(256*(c-r)-f/2),Y=-(256*(m-l)-g/2),F={position:"absolute",width:256*(s-r+1),height:256*(u-l+1),willChange:"transform",transform:"translate("+I+"px, "+Y+"px)"};return p.a.createElement("div",{style:j,className:X},p.a.createElement("div",{style:F},w.map(function(e){return p.a.createElement("img",{key:e.key,src:e.url,srcSet:e.srcSet,width:e.width,height:e.height,onLoad:function(){return t.imageLoaded(e.key)},style:{position:"absolute",left:e.left,top:e.top,willChange:"transform",transform:e.transform,transformOrigin:"top left",opacity:1}})})))},e.prototype.renderOverlays=function(){var t=this,e=this.state,n=e.width,o=e.height,a=e.center,r={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:a,width:n,height:o},i=p.a.Children.map(this.props.children,function(e){if(!e)return null;if("string"==typeof e.type)return e;var n=e.props,o=n.anchor,i=n.position,s=n.offset,l=t.latLngToPixel(o||i||a);return p.a.cloneElement(e,{left:l[0]-(s?s[0]:0),top:l[1]-(s?s[1]:0),latLngToPixel:t.latLngToPixel,pixelToLatLng:t.pixelToLatLng,mapState:r})}),s={position:"absolute",width:n,height:o,top:0,left:0};return p.a.createElement("div",{style:s},i)},e.prototype.renderAttribution=function(){var t=this.props,e=t.attribution,n=t.attributionPrefix;if(!1===e)return null;var o={position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"},a={color:"#0078A8",textDecoration:"none"};return p.a.createElement("div",{key:"attr",className:"mad-map-attribution",style:o},!1===n?null:p.a.createElement("span",null,n||p.a.createElement("a",{href:"https://github.com/denisoed/Mad-Map",target:"_blank",style:a},"Mad Map")," | "),e||p.a.createElement("span",null," © ",p.a.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:a},"OpenStreetMap")," contributors"))},e.prototype.renderWarning=function(){var t=this.props,e=t.metaWheelZoom,n=t.metaWheelZoomWarning,o=t.twoFingerDrag,a=t.twoFingerDragWarning,r=t.warningZIndex,i=this.state,s=i.showWarning,l=i.warningType,u=i.width,c=i.height;if(e&&n||o&&a){var h={position:"absolute",top:0,left:0,width:u,height:c,overflow:"hidden",pointerEvents:"none",opacity:s?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:r},m="undefined"!=typeof window&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"⌘":"⊞",d="fingers"===l?a:n;return p.a.createElement("div",{style:h},d.replace("META",m))}return null},e.prototype.render=function(){var t=this.props,e=t.touchEvents,n=t.twoFingerDrag,o=this.state,a=o.width,r=o.height,i={width:this.props.width?a:"100%",height:this.props.height?r:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:e?n?"pan-x pan-y":"none":"auto"},s=!(!a||!r);return p.a.createElement("div",{style:i,ref:this.setRef},s&&this.renderTiles(),s&&this.renderOverlays(),s&&this.renderAttribution(),s&&this.renderWarning())},e}(m.Component);L.defaultProps={animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META+wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[]};var R={left:15,top:31},j=function(t){function e(n){o(this,e);var r=a(this,t.call(this,n));return r.eventParameters=function(t){return{event:t,anchor:r.props.anchor,payload:r.props.payload}},r.handleClick=function(t){r.props.onClick&&r.props.onClick(r.eventParameters(t))},r.handleContextMenu=function(t){r.props.onContextMenu&&r.props.onContextMenu(r.eventParameters(t))},r.handleMouseOver=function(t){r.props.onMouseOver&&r.props.onMouseOver(r.eventParameters(t)),r.setState({hover:!0})},r.handleMouseOut=function(t){r.props.onMouseOut&&r.props.onMouseOut(r.eventParameters(t)),r.setState({hover:!1})},r.state={hover:!1},r}return r(e,t),e.prototype.isRetina=function(){return"undefined"!=typeof window&&window.devicePixelRatio>=2},e.prototype.isHover=function(){return"boolean"==typeof this.props.hover?this.props.hover:this.state.hover},e.prototype.render=function(){var t=this.props,e=t.left,n=t.top,o=t.onClick,a={position:"absolute",transform:"translate("+(e-R.left)+"px, "+(n-R.top)+"px)",cursor:o?"pointer":"default"};return p.a.createElement("div",{style:a,className:"mad-map-click-block",onClick:this.handleClick,onContextMenu:this.handleContextMenu,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut},p.a.createElement("img",{src:this.props.icon,width:29,height:34,alt:""}))},e}(m.Component)},function(t,e,n){t.exports=n(13)()},function(t,e,n){"use strict";function o(){}function a(){}var r=n(14);a.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";function o(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top}}e.a=o},function(t,e,n){"use strict";function o(t,e){for(;t;){if(t.classList&&t.classList.contains(e))return!0;t=t.offsetParent}return!1}e.a=o},function(t,e,n){"use strict";function o(t,e){var n=void 0;return function(){for(var o=arguments.length,a=Array(o),r=0;r<o;r++)a[r]=arguments[r];var i=this;clearTimeout(n),n=setTimeout(function(){return t.apply(i,a)},e)}}e.a=o},function(t,e,n){t.exports=n.p+"marker.svg"},function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){for(;t;){if(t===e)return!0;t=t.offsetParent}return!1}var s=n(0),l=n.n(s),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},c=function(t){function e(n){o(this,e);var r=a(this,t.call(this,n));return r.wa=function(t,e,n){return window.addEventListener(t,e,n)},r.wr=function(t,e){return window.removeEventListener(t,e)},r.bindMouseEvents=function(){r.wa("mousedown",r.handleDragStart),r.wa("mousemove",r.handleDragMove),r.wa("mouseup",r.handleDragEnd)},r.bindTouchEvents=function(){r.wa("touchstart",r.handleDragStart,{passive:!1}),r.wa("touchmove",r.handleDragMove,{passive:!1}),r.wa("touchend",r.handleDragEnd,{passive:!1})},r.unbindMouseEvents=function(){r.wr("mousedown",r.handleDragStart),r.wr("mousemove",r.handleDragMove),r.wr("mouseup",r.handleDragEnd)},r.unbindTouchEvents=function(){r.wr("touchstart",r.handleDragStart),r.wr("touchmove",r.handleDragMove),r.wr("touchend",r.handleDragEnd)},r.handleDragStart=function(t){i(t.target,r._dragRef)&&(t.preventDefault(),r.setState({isDragging:!0,startX:(t.touches?t.touches[0]:t).clientX,startY:(t.touches?t.touches[0]:t).clientY,deltaX:0,deltaY:0}),r.props.onDraStart&&r.props.onDragStart())},r.handleDragMove=function(t){if(r.state.isDragging){t.preventDefault();var e=(t.touches?t.touches[0]:t).clientX,n=(t.touches?t.touches[0]:t).clientY;if(r.setState({deltaX:e-r.state.startX,deltaY:n-r.state.startY}),r.props.onDragMove){var o=r.props,a=o.left,i=o.top,s=o.offset,l=o.pixelToLatLng;r.props.onDragMove(l([a+e-r.state.startX+(s?s[0]:0),i+n-r.state.startY+(s?s[1]:0)]))}}},r.handleDragEnd=function(t){if(r.state.isDragging){t.preventDefault();var e=r.props,n=e.left,o=e.top,a=e.offset,i=e.pixelToLatLng,s=r.state,l=s.deltaX,u=s.deltaY;r.props.onDragEnd&&r.props.onDragEnd(i([n+l+(a?a[0]:0),o+u+(a?a[1]:0)])),r.setState({isDragging:!1,deltaX:0,deltaY:0})}},r.setRef=function(t){r._dragRef=t},r.state={isDragging:!1,deltaX:0,deltaY:0},r}return r(e,t),e.prototype.componentDidMount=function(){this.bindMouseEvents(),this.bindTouchEvents()},e.prototype.componentWillUnmount=function(){this.unBindMouseEvents(),this.unBindTouchEvents()},e.prototype.render=function(){var t=this.props,e=t.left,n=t.top,o=t.className,a=t.style,r=this.state,i=r.deltaX,s=r.deltaY;return l.a.createElement("div",{style:u({},a||{},{position:"absolute",transform:"translate("+(e+i)+"px, "+(n+s)+"px)"}),ref:this.setRef,className:"mad-map-drag-block"+(o?" "+o:"")},this.props.children)},e}(s.Component);e.a=c},function(t,e,n){t.exports=n.p+"index.html"}],[8]);